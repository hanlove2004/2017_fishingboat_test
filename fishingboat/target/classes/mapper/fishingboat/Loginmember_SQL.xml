<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="loginmember">

	<!-- 회원정보 조회 -->
	<select id="selectMemberInfo" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT 
				USR_ID, 
				NAM, 
				USR_EMAIL,
				TO_CHAR(REG_DAT, 'YYYY-MM-DD') AS REG_DAT,
				PHONE,
				PW
			FROM 
				TB_USR_T A
			WHERE 
				A.USR_ID = #{usrid}
		]]>
	</select>
	
	<!-- 회원정보 수정 -->
	<update id="updateMemberInfo" parameterType="hashmap">
		<![CDATA[
			UPDATE 
				TB_USR_T 
			SET
				PW = #{usrpw},
				USR_EMAIL = #{emailtrue},
				PHONE = #{phonetrue}
			WHERE 
				USR_ID = #{usrid}
		]]>
	</update>
	
	<!-- 회원탈퇴 -->
	<delete id="deleteMember" parameterType="hashmap">
		<![CDATA[
			DELETE FROM 
				TB_USR_T 
			WHERE 
				USR_ID = #{usrid}
		]]>
	</delete>
	
</mapper>

